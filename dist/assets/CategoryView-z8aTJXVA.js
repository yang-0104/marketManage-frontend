import{d as A,r as d,j as D,a,c as y,b as e,w as l,F as C,o as g,g as _,e as i,t as V,u as k,n as I,k as G,q as H,s as J,l as K,_ as O}from"./index-UUeNv-ow.js";import{g as Q,f as R}from"./index-hVcYNRJg.js";const W={class:"card_head"},X={class:"card_body"},Y={class:"card_bottom"},Z=["id"],ee=A({__name:"CategoryView",setup(te){const w=d([{label:"启用",status:1},{label:"禁用",status:0}]),n=d({}),r=d(!1),v=d("");function z(){console.log("添加类别"),r.value=!0,v.value="新增菜品分类",n.value={}}function x(u){console.log("编辑菜品分类"),r.value=!0,n.value.name=u.name,n.value.status=u.status,n.value.id=u.id}const h=async()=>{console.log("submit!"),r.value=!await R(n.value),p()},s=d({current:1,size:10,total:0}),U=u=>{console.log(`current page: ${u}`),s.value.current=u,p()},p=async()=>{console.log("refresh category list");const u=await Q(s.value.current,s.value.size);s.value=u};return D(()=>{p()}),(u,o)=>{const c=a("el-button"),B=a("el-col"),S=a("el-row"),m=a("el-table-column"),L=a("el-tag"),N=a("el-button-group"),$=a("el-table"),j=a("el-pagination"),E=a("el-card"),F=a("el-input"),f=a("el-form-item"),M=a("el-option"),P=a("el-select"),T=a("el-form"),q=a("el-drawer");return g(),y(C,null,[e(E,{class:"card"},{default:l(()=>[_("div",W,[e(S,{gutter:50},{default:l(()=>[e(B,{span:3},{default:l(()=>[e(c,{icon:"Plus",size:"large",type:"primary",onClick:z},{default:l(()=>[i("新增果蔬分类")]),_:1})]),_:1})]),_:1})]),_("div",X,[e($,{data:s.value.records,border:"",style:{width:"100%"}},{default:l(()=>[e(m,{prop:"name",label:"分类名称"}),e(m,{label:"分类状态"},{default:l(({row:t})=>[e(L,{type:t.status===1?"success":"danger",effect:"dark"},{default:l(()=>[i(V(t.status===1?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(m,{label:"操作"},{default:l(({row:t})=>[e(N,null,{default:l(()=>[e(c,{icon:k(H),onClick:b=>x(t),circle:"",plain:"",type:"primary"},null,8,["icon","onClick"]),e(c,{icon:k(J),circle:"",plain:"",type:"danger"},null,8,["icon"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_("div",Y,[e(j,{"current-page":s.value.current,"onUpdate:currentPage":o[0]||(o[0]=t=>s.value.current=t),"page-size":s.value.size,"onUpdate:pageSize":o[1]||(o[1]=t=>s.value.size=t),layout:"total, prev, pager, next, jumper",total:s.value.total,onCurrentChange:U},null,8,["current-page","page-size","total"])])]),_:1}),e(q,{modelValue:r.value,"onUpdate:modelValue":o[5]||(o[5]=t=>r.value=t),"show-close":!1},{header:l(({titleId:t,titleClass:b})=>[_("h4",{id:t,class:I(b)},V(v.value),11,Z)]),default:l(()=>[e(T,{model:n.value,"label-width":"120px","label-position":"left"},{default:l(()=>[e(f,{label:"分类名称"},{default:l(()=>[e(F,{modelValue:n.value.name,"onUpdate:modelValue":o[2]||(o[2]=t=>n.value.name=t),"prefix-icon":"Menu",placeholder:"请输入分类名称"},null,8,["modelValue"])]),_:1}),e(f,{label:"分类状态"},{default:l(()=>[e(P,{modelValue:n.value.status,"onUpdate:modelValue":o[3]||(o[3]=t=>n.value.status=t),placeholder:"选择状态"},{default:l(()=>[(g(!0),y(C,null,G(w.value,t=>(g(),K(M,{key:t.status,label:t.label,value:t.status},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(c,{type:"primary",onClick:h},{default:l(()=>[i("提交")]),_:1}),e(c,{onClick:o[4]||(o[4]=t=>r.value=!1)},{default:l(()=>[i("取消 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}}),oe=O(ee,[["__scopeId","data-v-d62898b0"]]);export{oe as default};
